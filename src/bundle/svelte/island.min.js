const e=new WeakSet,t=new Map;class s extends HTMLElement{constructor(){super()}async connectedCallback(){if(e.has(this))return;e.add(this);const s=new Map;s.set("url",new URL($$1,window.location.href)),s.set("pattern",$$2),s.set("params",$$3),s.set("publicData",$$4),s.set("browser",!0);const{island:n}=this.dataset,a=t.get(n)??0;if(t.set(n,a+1),this.parentNode.closest("dinossr-island"))return;const r=`[data-island="${n}"][type*="/json"]`,i=document.querySelectorAll(r).item(a),o=i?JSON.parse(i.textContent):{},c=await import(`/_/immutable/${n}.js`),d=document.createDocumentFragment(),l=document.createElement("div");this.replaceWith(l),d.appendChild(this),new c.default({context:s,props:o,target:d,hydrate:!0}),l.replaceWith(d)}}customElements.define("dinossr-island",s);
